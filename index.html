<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Miraç Kandili Tebrik Kartı</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Playfair+Display:ital,wght@0,600;0,700;1,600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        h1, .serif-font { font-family: 'Playfair Display', serif; }
        
        .glass-panel {
            background: rgba(15, 23, 42, 0.90);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 50px -12px rgba(0, 0, 0, 0.7);
        }
        
        .input-area {
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .fade-in-up { animation: fadeInUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1); }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Bayrak Dalgalanma Efekti (Hafif) */
        .flag-container {
            box-shadow: 0 10px 30px -5px rgba(227, 10, 23, 0.5);
            transform: perspective(1000px) rotateX(5deg);
        }
    </style>
</head>
<body class="bg-[#0f172a] text-slate-100 min-h-screen flex items-center justify-center p-4 relative overflow-hidden selection:bg-red-500/30">

    <!-- Arkaplan -->
    <div class="fixed inset-0 pointer-events-none">
        <div class="absolute top-[-10%] left-1/2 -translate-x-1/2 w-[500px] h-[500px] bg-indigo-900/30 rounded-full blur-[100px]"></div>
        <div class="absolute bottom-[-10%] right-[-10%] w-[400px] h-[400px] bg-red-900/10 rounded-full blur-[100px]"></div>
        <div class="absolute top-10 left-10 text-slate-600/30 animate-pulse"><i data-lucide="star" width="24"></i></div>
        <div class="absolute bottom-20 right-10 text-slate-600/30 animate-pulse delay-700"><i data-lucide="star" width="32"></i></div>
    </div>

    <!-- Ana Kart -->
    <div class="glass-panel w-full max-w-md rounded-3xl p-6 md:p-8 relative z-10 flex flex-col items-center text-center fade-in-up border-t border-slate-700">
        
        <!-- TÜRK BAYRAĞI -->
        <div class="mb-8 w-full flex justify-center">
            <div class="w-48 h-32 md:w-56 md:h-36 rounded-xl overflow-hidden border-[3px] border-slate-800 flag-container relative bg-[#E30A17] group hover:scale-105 transition-transform duration-500">
                <img src="https://upload.wikimedia.org/wikipedia/commons/b/b4/Flag_of_Turkey.svg" 
                     alt="Türk Bayrağı" 
                     class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-gradient-to-tr from-black/20 to-transparent pointer-events-none"></div>
            </div>
        </div>

        <h1 class="text-3xl font-bold text-white mb-2 tracking-wide">Miraç Kandili</h1>
        
        <div class="flex items-center justify-center gap-3 w-full mb-6">
            <div class="h-[1px] w-8 bg-slate-700"></div>
            <p class="text-slate-400 text-[10px] font-bold tracking-[0.3em] uppercase">15 OCAK 2026</p>
            <div class="h-[1px] w-8 bg-slate-700"></div>
        </div>

        <!-- İsim Giriş Alanı -->
        <div class="w-full mb-5 group relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i data-lucide="pen-line" class="text-slate-500 w-4 h-4"></i>
            </div>
            <input type="text" id="recipient-name" placeholder="Kime gönderiyorsun? (Örn: Annem)" 
                class="input-area w-full pl-10 pr-4 py-3.5 rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-1 focus:ring-red-500/50 focus:border-red-500/50 transition-all text-sm font-medium"
                oninput="updatePreview()">
        </div>

        <!-- Mesaj Önizleme Kartı -->
        <div class="w-full bg-slate-900/60 border border-slate-700/60 rounded-2xl p-6 mb-6 min-h-[150px] flex flex-col items-center justify-center relative group">
            <i data-lucide="quote" class="absolute top-4 left-4 text-slate-700 w-5 h-5 rotate-180 opacity-50"></i>
            
            <div id="message-content" class="text-lg serif-font leading-relaxed text-slate-200 transition-all duration-300 px-2 italic">
                Yükleniyor...
            </div>
            
            <i data-lucide="quote" class="absolute bottom-4 right-4 text-slate-700 w-5 h-5 opacity-50"></i>

            <!-- Kopyala Butonu -->
            <button onclick="copyMessage()" class="absolute -top-3 right-4 flex items-center gap-1.5 bg-slate-800 hover:bg-slate-700 py-1.5 px-3 rounded-full transition-all border border-slate-600 shadow-lg cursor-pointer" id="copy-btn">
                <i data-lucide="copy" width="12" height="12"></i>
                <span class="text-[10px] font-bold uppercase tracking-wider" id="copy-text">KOPYALA</span>
            </button>
        </div>

        <!-- Aksiyon Butonları -->
        <div class="flex flex-col gap-3 w-full">
            <button onclick="shareWhatsApp()" class="w-full py-4 px-6 rounded-xl bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold flex items-center justify-center gap-2 shadow-lg shadow-green-900/20 transition-all active:scale-95 transform hover:-translate-y-0.5">
                <i data-lucide="message-circle" width="22" height="22"></i>
                WhatsApp ile Gönder
            </button>
            
            <button onclick="newMessage()" class="w-full py-4 px-6 rounded-xl bg-slate-800 hover:bg-slate-700 text-slate-300 font-medium flex items-center justify-center gap-2 border border-slate-700 transition-all active:scale-95 group">
                <i data-lucide="refresh-cw" width="18" height="18" class="group-hover:rotate-180 transition-transform duration-700"></i>
                Farklı Bir Dua Getir
            </button>
        </div>

        <footer class="mt-8 opacity-50">
            <p class="text-[10px] text-slate-500 uppercase tracking-widest">Hayırlı Kandiller</p>
        </footer>
    </div>

    <script>
        lucide.createIcons();

        // Tertemiz Mesaj Listesi
        const messages = [
            "Allah'ın rahmeti, bereketi ve mağfireti üzerinize olsun. Bu mübarek gecede dualarınız kabul olsun. Hayırlı Kandiller.",
            "Rabbim! Bu gece hürmetine, ümmet-i Muhammed'e birlik, dirlik ve ferahlık ver. Kandiliniz mübarek olsun.",
            "Bu gece kulun Rabbine en yakın olduğu gecedir. Dualarınızda bizleri de unutmayın.",
            "Gönüller duada birleşince kapılar ardına kadar açılırmış. Dualarınız kabul olsun.",
            "Ellerin semaya, dillerin duaya, gönüllerin Mevla'ya yöneldiği bu mübarek gecede dualarınız kabul olsun.",
            "Miraç; yükseliştir, arınmadır. Bu mübarek gecede dualarınızın göklere yükselip kabul olması dileğiyle.",
            "Avuçların açıldığı, gözlerin yaşardığı, ilahi esintilerin kalpleri okşadığı bir gece olsun.",
            "Bir dua gönderiyorum size, sağlık, mutluluk ve huzur olsun diye. Kandiliniz mübarek olsun.",
            "Yükü sevgi, özü saygı, gücü barış, süsü hoşgörü olan mübarek Miraç Kandilinizi en içten dileklerimle kutlarım.",
            "Kalpler vardır sevgiyi yaşatmak için, insanlar vardır dostluğu paylaşmak için, günler vardır Rabbimle buluşmak için.",
            "Bu gece Peygamber Efendimiz'in miraca yükseldiği şerefli gecedir. Rabbim feyzinden istifade etmeyi nasip etsin.",
            "Gecenin sahibine emanet olun. Dualarınız kabul, günahlarınız affolsun.",
            "Semaya açılan ellerin boş çevrilmeyeceği bu gecede, tüm dualarınızın kabul olmasını dilerim.",
            "Ruhunuza huzur, evinize bereket, kalbinize nur dolsun.",
            "İlahi rahmetin sağanak gibi yağdığı bu gecede, damlaların kalbinize işlemesi dileğiyle.",
            "Miraç mucizesi hayatınıza nur, kalbinize huzur getirsin. Rabbim dualarımızı dergahında kabul eylesin.",
            "Bugün ellerinizi her zamankinden daha çok açın, avucunuza melekler gül koysun, yüreğiniz coşsun.",
            "Bu mübarek gece, kalplerin arınmasına ve duaların kabulüne vesile olsun.",
            "Rabbim bizi, bu gecenin feyziyle arınan ve miraca yükselen kullarından eylesin.",
            "Dertlerin kum tanesi kadar küçük, sevinçlerin nisan yağmuru kadar bol olsun. Duaların kabul olsun."
        ];

        let currentBaseMessage = "";

        // Mesaj Oluşturucu (Prefix Mantığı)
        function getMessageText(isWhatsApp = false) {
            const nameInput = document.getElementById('recipient-name').value.trim();
            const prefixPhrase = "Miraç Kandilinizi tebrik ederim.";
            
            // Eğer isim varsa: "Ahmet, Miraç Kandilinizi tebrik ederim. [Dua]"
            // Eğer isim yoksa: "Miraç Kandilinizi tebrik ederim. [Dua]"
            
            let finalPrefix = "";
            
            if (nameInput) {
                // WhatsApp için ismi kalın yap
                const formattedName = isWhatsApp ? `*${nameInput}*` : `<span class="text-amber-400 font-semibold not-italic">${nameInput}</span>`;
                finalPrefix = `${formattedName}, ${prefixPhrase} `;
            } else {
                finalPrefix = `${prefixPhrase} `;
            }

            return finalPrefix + currentBaseMessage;
        }

        function updatePreview() {
            const contentDiv = document.getElementById('message-content');
            contentDiv.innerHTML = getMessageText(false); // HTML formatı
        }

        function getRawMessageForSharing() {
            return getMessageText(true); // WhatsApp formatı (*İsim*)
        }

        function newMessage() {
            const contentDiv = document.getElementById('message-content');
            contentDiv.style.opacity = '0';
            contentDiv.style.transform = 'translateY(10px)';
            
            setTimeout(() => {
                const randomIndex = Math.floor(Math.random() * messages.length);
                currentBaseMessage = messages[randomIndex];
                updatePreview();
                contentDiv.style.opacity = '1';
                contentDiv.style.transform = 'translateY(0)';
                resetCopyButton();
            }, 250);
        }

        function shareWhatsApp() {
            const text = encodeURIComponent(getRawMessageForSharing());
            window.open(`https://wa.me/?text=${text}`, '_blank');
        }

        function copyMessage() {
            const textToCopy = getRawMessageForSharing().replace(/\*/g, ''); // Yıldızları temizle
            navigator.clipboard.writeText(textToCopy).then(() => {
                const copyBtn = document.getElementById('copy-btn');
                const copyText = document.getElementById('copy-text');
                const copyIcon = copyBtn.querySelector('i');

                copyBtn.classList.remove('bg-slate-800', 'border-slate-600');
                copyBtn.classList.add('bg-green-600', 'border-green-500', 'text-white');
                
                copyText.innerText = "ALINDI";
                copyIcon.setAttribute('data-lucide', 'check');
                lucide.createIcons();

                setTimeout(resetCopyButton, 2000);
            });
        }

        function resetCopyButton() {
            const copyBtn = document.getElementById('copy-btn');
            const copyText = document.getElementById('copy-text');
            const copyIcon = copyBtn.querySelector('i');

            copyBtn.classList.add('bg-slate-800', 'border-slate-600');
            copyBtn.classList.remove('bg-green-600', 'border-green-500', 'text-white');
            
            copyText.innerText = "KOPYALA";
            if(copyIcon) {
                copyIcon.setAttribute('data-lucide', 'copy');
                lucide.createIcons();
            }
        }

        // Başlangıç
        newMessage();
    </script>
</body>
</html>


